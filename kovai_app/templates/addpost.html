<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    {% load static %}
    <script src="{% static 'js/post.js' %}"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>

    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            color: #333;
            margin: 0;
            padding: 20px;
        }

        form {
            background: #fff;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            max-width: 800px;
            margin: auto;
            padding: 20px;
        }

        h1 {
            font-size: 24px;
            margin-bottom: 20px;
        }

        .autocomplete-container {
            position: relative;
            display: inline-block;
            width: 100%;
            max-width: 600px;
            margin-bottom: 20px;
        }

        input[type="text"], select {
            width: 90%;
            padding: 12px;
            border: 1px solid #ccc;
            border-radius: 4px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            font-size: 16px;
            margin-bottom: 10px;
        }

        input[type="text"]::placeholder {
            color: #888;
        }

        .autocomplete-container label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }

        .res_box, .two_res_box, .three_res_box {
            position: absolute;
            width: 100%;
            background-color: #fff;
            border: 1px solid #ddd;
            border-top: none;
            max-height: 200px;
            overflow-y: auto;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            z-index: 1000;
            border-radius: 4px;
        }

        .res_box ul, .two_res_box ul, .three_res_box ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .res_box li, .two_res_box li, .three_res_box li {
            padding: 10px;
            cursor: pointer;
            border-bottom: 1px solid #eee;
            transition: background-color 0.2s;
        }

        .res_box li:hover, .two_res_box li:hover, .three_res_box li:hover {
            background-color: #f0f0f0;
        }

        #two, #three {
            display: none;
        }

        .btn {
            background-color: #007bff;
            color: #fff;
            border: none;
            padding: 12px 20px;
            font-size: 16px;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .btn:hover {
            background-color: #0056b3;
        }

        .checkbox-label {
            display: inline-block;
            margin-right: 15px;
            font-weight: normal;
        }
        h1{
            text-align: center;
            background-color: #007bff; 
            color: #fff;
            font-size: 30px;
            padding: 10px;
            width: 60%;
            margin-left: 200px;
          
        }
        .subject-section {
            display: none;
            margin-top: 20px;
            position: relative;
        }
        @media (max-width: 600px) {
            h1{
                margin-left: 10px;
            }
        }
    </style>

    <script>
           $(document).ready(function () {
            $("#show-two").click(function () {
                $(".two").toggle();
                $("#show-two").hide();
            });

            $("#show-three").click(function () {
                $(".three").toggle();
                $("#show-three").hide();
            });

            $("#show-four").click(function () {
                $(".four").toggle();
                $("#show-four").hide();
            });

            $("#show-five").click(function () {
               
                $(".five").toggle();
                $("#show-five").hide();
            });
        });
    </script>
</head>
<body>
    <h1>Post a New Requirement</h1>
    <form action="/add_post/{{email}}" method="POST" onsubmit="return validation()" enctype="multipart/form-data">
        {% csrf_token %}
        <label for="classes">Class</label> <br>
        <input type="text" name="classes" id="classes" required><br>
    
        <label>Curriculum</label>
        <input type="text" placeholder="State board, CBSE, ICSE, IGCSE, IB..." name="curriculum" id="curriculum"> <br>
    
        <label for="subject">Subject</label>
        <input type="text" id="subject" name="subject" placeholder="e.g., Maths, Python" required>
        <div class="autocomplete-results res_box"></div>
    
        <button type="button" class="btn btn-primary show-btn" id="show-two">Add Another Subject</button>

       
        <div class="two subject-section">
            <label for="two_subject">Subject</label>
            <input type="text" id="two_subject" name="two_subject" placeholder="e.g., Maths, Python">
            <div class="autocomplete-results two_res_box"></div>

            <button type="button" class="btn btn-primary show-btn" id="show-three">Add Another Subject</button>
          
        </div>

        
        <div class="three subject-section">
            <label for="three_subject">Subject</label>
            <input type="text" id="three_subject" name="three_subject" placeholder="e.g., Maths, Python">
            <div class="autocomplete-results three_res_box"></div>
            <button type="button" class="btn btn-primary show-btn" id="show-four">Add Another Subject</button>
        </div>

    
        <div class="four subject-section">
            <label for="four_subject">Subject</label>
            <input type="text" id="four_subject" name="four_subject" placeholder="e.g., Maths, Python">
            <div class="autocomplete-results four_res_box"></div>

            <button type="button" class="btn btn-primary show-btn" id="show-five">Add Another Subject</button>
        </div>

       
        <div class="five subject-section">
            <label for="five_subject">Subject</label>
            <input type="text" id="five_subject" name="five_subject" placeholder="e.g., Maths, Python">
            <div class="autocomplete-results five_res_box"></div>

           
        </div><br>
        <br>

        <label for="i_want">I am looking for:</label> <br>
        <select id="i_want" name="i_want">
            <option value="Tutoring">Tuition</option>
            <option value="Project Support">Project Support</option>
            <option value="assignment help">Assignment Support</option>
            <option value="Others">Others</option>
        </select> <br><br>

        <label>Mode of Teaching:</label><br>
        <label class="checkbox-label"><input type="checkbox" name="meeting_option" value="Online"> Online </label>
        <label class="checkbox-label"><input type="checkbox" name="meeting_option" value="Home"> Home</label>
        <label class="checkbox-label"><input type="checkbox" name="meeting_option" value="At Tutor's Place"> At Tutor's Place</label> <br><br>

        <label for="budget">Budget</label> <br>
        <input type="text" id="budget" name="budget" placeholder="INR" style="width: 40%;" required> 
        <select name="budget_need" style="width: 40%;">
            <option value="per hour">per hour</option>
            <option value="per hour">per hour</option>
            <option value="per day">per day</option>
            <option value="per week">per week</option>
            <option value="per month">per month</option>

         
        </select> <br><br>

        <label for="gender">Gender Preference</label><br>
        <select id="gender" name="gender" style="width: 40%;">
            <option value="">Select your preferred tutor gender:</option>
            <option value="male">Male</option>
            <option value="female">Female</option>
            <option value="both">Any</option>
        </select> <br><br>

        <label for="language">Preferred Language</label> <br>
        <input type="text" id="language" name="language" placeholder="I can communicate with the tutor in (languages)" style="width: 90%;" required> <br><br>

     
        <label for="need">I need some:</label> <br>
       
        <input type="checkbox" value="Full Time" name="need">
        <label for="need">Full Time</label> 
        <input type="checkbox" value="Part Time" name="need">
        <label for="need">Part Time</label>
        <input type="checkbox" value="both" name="need">
        <label for="need">Any</label>
         <br><br>
         <label for="image">Upload your requirement:(Optional)</label>
         <input type="file" name="image" id="image" > <br><br>

        <label for="dyr">Details of your requirement</label>
        <textarea id="dyr" name="dyr" style="width: 90%; height: 120px; padding: 12px; border: 1px solid #ccc; border-radius: 4px; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);" placeholder="Example: I am looking for someone with experience in teaching IGCSE Maths online to young kids. My daughter is available from 4.30 pm EST to 8.30 pm EST on weekdays and flexible on Weekends. You should have a digital pen and good internet connection. My budget is a maximum of $35 per hour."></textarea> <br><br>

        <input type="submit" value="POST" class="btn">
    </form>
    <script>
     function validation() {
    // Required fields
    const requiredFields = [
        { id: "classes", message: "Class field is required." },
        { id: "subject", message: "Subject field is required." },
        { id: "i_want", message: "You must select what you are looking for." },
        { id: "budget", message: "Budget field is required." },
        { id: "gender", message: "You must select a gender preference." },
        { id: "language", message: "Preferred language is required." },
        { id: "dyr", message: "Details of your requirement are required." }
    ];

    // Check if all required fields are filled
    for (const field of requiredFields) {
        const element = document.getElementById(field.id);
        if (!element.value.trim()) {
            alert(field.message);
            element.focus();
            return false; // Prevent form submission
        }
    }

    // Checkboxes for mode of teaching
    const meetingOptions = document.querySelectorAll('input[name="meeting_option"]');
    const isMeetingOptionSelected = Array.from(meetingOptions).some(option => option.checked);
    if (!isMeetingOptionSelected) {
        alert("You must select at least one mode of teaching.");
        return false; // Prevent form submission
    }

    // Checkbox for need type
    const needs = document.querySelectorAll('input[name="need"]');
    const isNeedSelected = Array.from(needs).some(need => need.checked);
    if (!isNeedSelected) {
        alert("You must select at least one need type (Full Time, Part Time, or Any).");
        return false; // Prevent form submission
    }

    // Validate short profile description (Details of your requirement)
    const description = document.getElementById("dyr").value.trim();
    const regex = /^[A-Za-z\s.,!?'"-]+$/; // Allows only letters, spaces, and some punctuation
    if (!regex.test(description)) {
        alert('Please enter only valid characters in the "Details of your requirement" field. Avoid using numbers or special symbols.');
        return false; // Prevent form submission
    }

    // If all checks pass, allow form submission
    return true;
}


    </script>
</body>
</html>
